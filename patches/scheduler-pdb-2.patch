--- ../vendor/k8s.io/kubernetes/pkg/scheduler/framework/preemption/preemption.go	2026-01-26 00:00:00
+++ ../vendor/k8s.io/kubernetes/pkg/scheduler/framework/preemption/preemption.go	2026-01-26 00:00:00
@@ -20,9 +20,11 @@
 	"context"
 	"errors"
 	"fmt"
 	"math"
+	"os"
 	"sync"
 	"sync/atomic"
 	"time"
+	"strconv"
 
 	v1 "k8s.io/api/core/v1"
@@ -158,4 +160,12 @@
 	podLister := fh.SharedInformerFactory().Core().V1().Pods().Lister()
-	pdbLister := fh.SharedInformerFactory().Policy().V1().PodDisruptionBudgets().Lister()
+	// FIX kubernetes 1.21 and lower version API missing issue
+	var pdbLister policylisters.PodDisruptionBudgetLister
+	minorVersionStr := os.Getenv("KUBE_API_VERSION_MINOR")
+	if minorVersionStr != "" {
+		minorVersion, err := strconv.Atoi(minorVersionStr)
+		if err == nil && minorVersion >= 21 {
+			pdbLister = fh.SharedInformerFactory().Policy().V1().PodDisruptionBudgets().Lister()
+		}
+	}
 
 	ev := &Evaluator{
