apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-public-gpu-info
  namespace: {{ include "tensor-fusion.namespace" . }}
  labels:
    {{- include "tensor-fusion.labels" . | nindent 4 }}
data:
  # TODO: should be auto generated based on some server side database
  gpu-info.yaml: |
    # Refer: 
    #  - https://www.techpowerup.com/gpu-specs
    #  - https://getdeploying.com/reference/cloud-gpu
    #  - https://en.wikipedia.org/wiki/List_of_Nvidia_graphics_processing_units
    #  - https://en.wikipedia.org/wiki/GeForce_RTX_30_series#
    #  - https://en.wikipedia.org/wiki/GeForce_RTX_50_series

    # Field Definition:
    # - 'model' is `GPUModel_BoardSlotType` to identify the GPU
    # - 'costPerHour' is the average cost referring a few Cloud/Serverless GPU vendors
    # - 'fp16TFlops' is the max FP16 TFlops of the GPU. For NVIDIA, it means none-sparsity performance and using Tensor Cores
    
    # note that this sheet only contains TFlops, no VRAM, since variant GPUs have the same TFlops but different VRAM, VRAM can be easily detected from NVML lib
    # TODO: this should be dynamic after user inputs their cloud vendor and discounts info, for example Azure/AWS has much higher price than this sheet
    
    # Turing Architecture Series
    - model: T4
      fullModelName: "Tesla T4"
      vendor: NVIDIA
      costPerHour: 0.53
      fp16TFlops: 65

    # Ampere Architecture Series
    - model: A100_SXM4
      fullModelName: "NVIDIA A100 SXM4"
      vendor: NVIDIA
      costPerHour: 1.89
      fp16TFlops: 312
    
    - model: A100_PCIe
      fullModelName: "NVIDIA A100 PCIe"
      vendor: NVIDIA
      costPerHour: 1.64
      fp16TFlops: 312

    - model: A10
      fullModelName: "NVIDIA A10"
      vendor: NVIDIA
      costPerHour: 0.9
      fp16TFlops: 125

    # A10G has less CUDA core than A10, but with RT cores for rendering case
    - model: A10G
      fullModelName: "NVIDIA A10G"
      vendor: NVIDIA
      costPerHour: 0.75 # from lambda labs
      fp16TFlops: 63

    - model: A40
      fullModelName: "NVIDIA A40"
      vendor: NVIDIA
      costPerHour: 0.44
      fp16TFlops: 125
    
    - model: A6000
      fullModelName: "NVIDIA A6000"
      vendor: NVIDIA
      costPerHour: 0.48
      fp16TFlops: 154

    - model: A6000Ada
      fullModelName: "NVIDIA A6000 Ada"
      vendor: NVIDIA
      costPerHour: 0.95
      fp16TFlops: 323

    - model: RTX3090
      fullModelName: "NVIDIA GeForce RTX 3090"
      vendor: NVIDIA
      costPerHour: 0.2
      fp16TFlops: 143
    - model: RTX3090Ti
      fullModelName: "NVIDIA GeForce RTX 3090 Ti"
      vendor: NVIDIA
      costPerHour: 0.21
      fp16TFlops: 160
    
    - model: RTX3080
      fullModelName: "NVIDIA GeForce RTX 3080"
      vendor: NVIDIA
      costPerHour: 0.13
      fp16TFlops: 119
    - model: RTX3080Ti
      fullModelName: "NVIDIA GeForce RTX 3080 Ti"
      vendor: NVIDIA
      costPerHour: 0.14
      fp16TFlops: 136
    - model: RTX3070
      fullModelName: "NVIDIA GeForce RTX 3070"
      vendor: NVIDIA
      costPerHour: 0.08
      fp16TFlops: 81
    - model: RTX3070Ti
      fullModelName: "NVIDIA GeForce RTX 3070 Ti"
      vendor: NVIDIA
      costPerHour: 0.09
      fp16TFlops: 87
    - model: RTX3060
      fullModelName: "NVIDIA GeForce RTX 3060"
      vendor: NVIDIA
      costPerHour: 0.07
      fp16TFlops: 51
    - model: RTX3060Ti
      fullModelName: "NVIDIA GeForce RTX 3060 Ti"
      vendor: NVIDIA
      costPerHour: 0.08
      fp16TFlops: 65
    - model: RTX3050
      fullModelName: "NVIDIA GeForce RTX 3050"
      vendor: NVIDIA
      costPerHour: 0.05
      fp16TFlops: 36

    # Ada Lovelace Architecture Series  
    - model: L4
      fullModelName: "NVIDIA L4"
      vendor: NVIDIA
      costPerHour: 0.43
      fp16TFlops: 121

    - model: L40
      fullModelName: "NVIDIA L40"
      vendor: NVIDIA
      costPerHour: 0.7 # should be a bit cheaper than L40S
      fp16TFlops: 181

    - model: L40S
      fullModelName: "NVIDIA L40S"
      vendor: NVIDIA
      costPerHour: 1.4
      fp16TFlops: 365

    # Hopper Architecture Series
    - model: H100_SXM4
      fullModelName: "NVIDIA H100 SXM4"
      vendor: NVIDIA
      costPerHour: 2.99
      fp16TFlops: 989
    
    - model: H100_PCIe
      fullModelName: "NVIDIA H100 PCIe"
      vendor: NVIDIA
      costPerHour: 2.39
      fp16TFlops: 835
   
    # Blackwell Architecture Series
    - model: B200_SXM4
      fullModelName: "NVIDIA B200 SXM4"
      vendor: NVIDIA
      costPerHour: 10.99 # unknown price,on-request
      fp16TFlops: 2250

    - model: RTX4060
      fullModelName: "NVIDIA GeForce RTX 4060"
      vendor: NVIDIA
      costPerHour: 0.1
      fp16TFlops: 113
    - model: RTX4060Ti
      fullModelName: "NVIDIA GeForce RTX 4060 Ti"
      vendor: NVIDIA
      costPerHour: 0.11
      fp16TFlops: 120

    - model: RTX4070
      fullModelName: "NVIDIA GeForce RTX 4070"
      vendor: NVIDIA
      costPerHour: 0.15
      fp16TFlops: 153
    - model: RTX4070S
      fullModelName: "NVIDIA GeForce RTX 4070 Super"
      vendor: NVIDIA
      costPerHour: 0.18
      fp16TFlops: 161
    - model: RTX4070STi
      fullModelName: "NVIDIA GeForce RTX 4070 Super Ti"
      vendor: NVIDIA
      costPerHour: 0.2
      fp16TFlops: 181

    - model: RTX4080
      fullModelName: "NVIDIA GeForce RTX 4080"
      vendor: NVIDIA
      costPerHour: 0.23
      fp16TFlops: 221

    - model: RTX4090
      fullModelName: "NVIDIA GeForce RTX 4090"
      vendor: NVIDIA
      costPerHour: 0.3
      fp16TFlops: 252

    - model: RTX4090Ti
      fullModelName: "NVIDIA GeForce RTX 4090 Ti"
      vendor: NVIDIA
      costPerHour: 0.4
      fp16TFlops: 352

    - model: RTX5070
      fullModelName: "NVIDIA GeForce RTX 5070"
      vendor: NVIDIA
      costPerHour: 0.21
      fp16TFlops: 124

    - model: RTX5070Ti
      fullModelName: "NVIDIA GeForce RTX 5070 Ti"
      vendor: NVIDIA
      costPerHour: 0.25
      fp16TFlops: 177

    - model: RTX5080
      fullModelName: "NVIDIA GeForce RTX 5080"
      vendor: NVIDIA
      costPerHour: 0.3
      fp16TFlops: 225

    - model: RTX5090
      fullModelName: "NVIDIA GeForce RTX 5090"
      vendor: NVIDIA
      costPerHour: 0.65
      fp16TFlops: 419